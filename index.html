<!DOCTYPE html>
<html>
<head>
  <title>Speed Writer</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <style>
/* CSS MINIMAL RESET*/
html {box-sizing: border-box;font-size: 16px;}
*, *:before, *:after {box-sizing: border-box;}
body, h1, h2, h3, h4, h5, h6, p, ol, ul { margin: 0;padding: 0;font-weight: normal;}
ol, ul {list-style: none;}
img {max-width: 100%;height: auto;}

body {
      background:  #eee;
      margin-top: 25px; 
      text-align: center;
      font-family: monospace;
      font-size: 40px;
      color: #111;
}

.greenText
{
    color:green;
}
.redText
{
    color:red;
}
.blackText
{
  color:black;
}

  </style>
</head>
<body>
  <div id="app">
    <div>{{title}}</div>
    <div><p id="">
      <span class="greenText">{{validTxt}}</span>
      <span class="redText">{{invalidTxt}}</span>
      <span class="blackText">{{restTxt}}</span>

      {{toWriteMessage}}</p></div>    

    <user_input></user_input>
  </div>
  <script>
    Vue.component('user_input', 
     {
        data: () =>  {
        return {
          message : '',
        }
      },
      template: '<div><p style="white-space: pre-line;display:none">{{ message }}</p><textarea v-model="message" placeholder="add multiple lines"></textarea></div>',
      watch: {
        message: function () {
          var compare = app.toWriteMessage.substring(0, this.message.length)
          var erroIndex = null;
          if(compare.length === this.message.length)
          {
            for (var i = 0; i < compare.length ; i++)
            {
              var messageChar = this.message.charAt(i)
              var compareChar = compare.charAt(i)
              if(compareChar !== messageChar)
              {
                erroIndex = i;
                break;
              }
            }
          }
          if(erroIndex !== null)
          {
            // app.validTxt = 
            // app.invalidTxt = 

            // app.restTxt = 
          }
         else{
            app.validTxt = compare
            app.restTxt = app.toWriteMessage.substring(compare.length, app.toWriteMessage.length)
         }
        }
      }
    })

    var app = new Vue({
      el: '#app',
      data: {
        title: 'Speed Writer',
        isCorrect: false,
        validTxt: '',
        invalidTxt: '',
        restTxt: 'select a message for the user to write and verify if the messasge is corret to each imnput. If yes , set gree values for the letters enter correctly. If no, set red to the letters incorrect',
        toWriteMessage: 'select a message for the user to write and verify if the messasge is corret to each imnput. If yes , set gree values for the letters enter correctly. If no, set red to the letters incorrect'
      }
    })
  </script>
</body>
</html>
